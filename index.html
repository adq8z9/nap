<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Nap - Nostr accounting program</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="index_style.css">
    <script src="index_script.js"></script>
    <script src="nostr_tools.js"></script>
  </head>

  <body onload="defaultOpen()">

    <div class="topnav">
      <h1 id="topNavTitle">Nostr accounting program (nap)</h1>
      <p style="color:red">Note: This tool is just a simple test-program. Don't use it for real application and created example data just for throw-away purposes.</p>
      <img src="nap.png" alt="" style="width:65px;height:48px;">
    </div>
    
    <div style="overflow:auto">
      <div class="menu">
        <a class="menu_point active" onclick="openView(event, 'reports')" id="defaultOpen" href="#r">Reports</a>
        <a class="menu_point" onclick="openView(event, 'postings')" href="#p">Ledger Postings</a>
        <a class="menu_point" onclick="openView(event, 'ledger')" href="#l">Ledger</a>
        <a class="menu_point" onclick="openView(event, 'logIn')" href="#li">Log In</a>
      </div>
      
      <div id="reports" class="main">
        <h2 class="mainTitle">General Overview</h2>
        <p class="mainText">no accounting ledger selected <br>(select under "Log In")</p>
      </div>

      <div id="postings" class="main">
        <h2 class="mainTitle">Ledger Postings</h2>
        <p class="mainText">no accounting ledger selected <br>(select under "Log In")</p>
      </div>

      <div id="ledger" class="main">
        <h2 class="mainTitle">View Ledger</h2>
        <p class="mainText" id="ledgerInfoText">no accounting ledger selected <br>(select under "Log In")</p>
        <h3 class="mainSubTitle">Name:</h3>
	<p class="mainText" id="ledgerNameText"></p>
        <h3 class="mainSubTitle">Used Relay(s):</h3>
	<p class="mainText" id="ledgerRelaysText"></p>
        <h3 class="mainSubTitle">Accounting units:</h3>
	<p class="mainText" id="ledgerUnitsText"></p>
        <h3 class="mainSubTitle">Accounts:</h3>
	<p class="mainText" id="ledgerAccountsText"></p>
        <h3 class="mainSubTitle">Accountants:</h3>
	<p class="mainText" id="ledgerAccountantsText"></p>
      </div>
	    
      <div id="logIn" class="main">
        <h2 class="mainTitle">Log In</h2>
	<h3 class="mainSubTitle">log in nostr account:</h3>
	<p class="mainText" id="npubLoginInfo">Currently logged in npub: no nostr account logged in</p>
        <p class="mainText" style="display:none;">Log in with nip19 nsec1...:<br>(Get a throw-away nsec, e.g. here <a href="https://nak.nostr.com/" style="color:#606770">https://nak.nostr.com/</a>)</p>
        <input type="text" placeholder="log in with nsec1..." class="mainText" id="npubLoginInput" style="display:none;">
        <button onclick="logInNpub()" style="display:none;">Log In</button>
        <p class="mainText" id="npubLoginInputFeedback" style="display:none;"></p>
        <p style="display:none;">or</p><button onclick="createAndLogInNpub()">Create random example nostr-keypair and log in</button>
        <p class="mainText" id="npubCreateLoginInputFeedback"></p>
        <h3 class="mainSubTitle">select accounting ledger:</h3>
        <p class="mainText" id="ledgerLoginInfo">Currently used accounting ledger: no accounting ledger selected<br></p>
        <p class="mainText" style="display:none;">Select ledger event with nip19 naddr1...:</p>
        <input type="text" placeholder="select ledger with naddr1..." class="mainText" id="ledgerLoginInput" style="display:none;">
        <button onclick="logInLedger()" style="display:none;">Select</button>
        <p class="mainText" id="ledgerLoginInputFeedback" style="display:none;"></p>
        <p style="display:none;">or</p><button onclick="createAndLogInLedger()">Create simple example ledger and select</button>
        <p class="mainText" id="ledgerCreateLoginInputFeedback"></p>
      </div>

      <div class="right">
        <h2>Current Context</h2>
        <h3 id="header_npub_right">logged in npub</h3>
        <p id="npub_right">not logged in</p>
        <h3 id="header_ledger_right">selected accounting ledger</h3>
        <p id="ledger_right">not selected</p>
      </div>
    </div>

    <div class="bottomnav">
      <h4 class="bottomNavHeader">Le accounting NUD - fan:</h4>
      <a class="bottomNavLink" href="https://github.com/adq8z9/le_accounting_nud">https://github.com/adq8z9/le_accounting_nud</a>
      <h4 class="bottomNavHeader">Nostr accounting program (nap):</h4>
      <a class="bottomNavLink" href="https://github.com/nostr-protocol/nips">https://github.com/nostr-protocol/nips<br><br></a>
      <h4 class="bottomNavHeader">Nostr protocol:</h4>
      <a class="bottomNavLink" href="https://github.com/nostr-protocol/nips">https://github.com/nostr-protocol/nips</a>
      <h4 class="bottomNavHeader">Nostr tools:</h4>
      <a class="bottomNavLink" href="https://github.com/nbd-wtf/nostr-tools">https://github.com/nbd-wtf/nostr-tools</a>
    </div>

  </body>
</html>
